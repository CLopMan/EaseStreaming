<!DOCTYPE html>
<html>
<head>
  <script src="https://cdn.jsdelivr.net/npm/hls.js@latest"></script>
<link rel="stylesheet" href="style.css"/>
</head>
<body>
  <video id="video1" controls autoplay muted></video>
  <video id="video2" controls autoplay muted></video>

  <script>
    const video1 = document.getElementById('video1');
    const video2 = document.getElementById('video2');
    const server = window.location.origin;
    const src_seal = `${server}:8888/test/index.m3u8`;
    const src_volao = `${server}:8888/video/index.m3u8`;

    function attachHls(videoElement, src) {
            if (Hls.isSupported()) {
                const hls = new Hls({
                liveSyncDuration: 1,
                maxBufferLength: 3,
                enableWorker: true
            });

            hls.loadSource(src);
            hls.attachMedia(videoElement);
            hls.startLoad();
        } else if (videoElement.canPlayType('application/vnd.apple.mpegurl')) {
            videoElement.src = src; // Safari / native HLS
        }
    }

    attachHls(video1, src_seal);
    attachHls(video2, src_volao);
  </script>
</body>
</html>

